const{Command:Command}=require("commands"),permissions=require("permissions"),{performAllPlayers:performAllPlayers}=require("players");exports.weather=((e,r,s)=>{if(new permissions.Permission("mcjs.command.weather").hasPermission(r.username)){var a=e[0];if(a){a=a.toLowerCase();const e={clear:{reason:1},rain:{reason:2}};e[a]?(performAllPlayers(r=>{r.write("game_state_change",e[a])}),r.sendMessage({text:`Set the weather to ${a}`})):n()}else n()}else permissions.defaultError(r._client);function n(){r.sendMessage({text:"Invalid Weather Type!",color:"red"})}}),exports.init=(()=>{new Command({command:"weather",filename:"weather.mcjsp",info:"Changes the weather",usage:"/weather < clear | rain >"})});